services:
  backend:
    container_name: backend_test
    environment:
      # Supabase configuration for tests
      SUPABASE_PROJECT_URL: ${SUPABASE_PROJECT_URL}
      SUPABASE_PUBLIC_KEY: ${SUPABASE_PUBLIC_KEY}
      SUPABASE_SECRET_KEY: ${SUPABASE_SECRET_KEY}
      SUPABASE_ES256_PUBLIC_JWK: ${SUPABASE_ES256_PUBLIC_JWK}
    command: pytest --cov-report=xml --cov-report=term-missing
